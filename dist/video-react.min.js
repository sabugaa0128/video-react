!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("video-react",["react"],t):"object"==typeof exports?exports["video-react"]=t(require("react")):e["video-react"]=t(e.React)}(this,function(e){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(2),u=a(s),d=n(7),h=a(d),c={actions:s.PropTypes.object.isRequired,player:s.PropTypes.object.isRequired,starttime:s.PropTypes.number,loop:s.PropTypes.bool,source:s.PropTypes.string},p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.play=n.play.bind(n),n.pause=n.pause.bind(n),n.seek=n.seek.bind(n),n.forward=n.forward.bind(n),n.replay=n.replay.bind(n),n.toggleFullscreen=n.toggleFullscreen.bind(n),n.videoWidth=n.videoWidth.bind(n),n.videoHeight=n.videoHeight.bind(n),n.handleLoadStart=n.handleLoadStart.bind(n),n.handleCanPlay=n.handleCanPlay.bind(n),n.handleCanPlayThrough=n.handleCanPlayThrough.bind(n),n.handlePlay=n.handlePlay.bind(n),n.handlePlaying=n.handlePlaying.bind(n),n.handlePause=n.handlePause.bind(n),n.handleEnded=n.handleEnded.bind(n),n.handleWaiting=n.handleWaiting.bind(n),n.handleSeeking=n.handleSeeking.bind(n),n.handleSeeked=n.handleSeeked.bind(n),n.handleFullscreenChange=n.handleFullscreenChange.bind(n),n.handleError=n.handleError.bind(n),n.handleSuspend=n.handleSuspend.bind(n),n.handleAbort=n.handleAbort.bind(n),n.handleEmptied=n.handleEmptied.bind(n),n.handleStalled=n.handleStalled.bind(n),n.handleLoadedMetaData=n.handleLoadedMetaData.bind(n),n.handleLoadedData=n.handleLoadedData.bind(n),n.handleTimeUpdate=(0,h["default"])(n.handleTimeUpdate.bind(n),250),n.handleRateChange=n.handleRateChange.bind(n),n.handleVolumeChange=n.handleVolumeChange.bind(n),n.handleDurationChange=n.handleDurationChange.bind(n),n.handleProgress=(0,h["default"])(n.handleProgress.bind(n),1e3),n.handleKeypress=n.handleKeypress.bind(n),n.renderSources=n.renderSources.bind(n),n}return r(t,e),l(t,[{key:"play",value:function(){this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"togglePlay",value:function(){this.video.paused?this.play():this.pause()}},{key:"videoWidth",value:function(){return this.video.videoWidth}},{key:"videoHeight",value:function(){return this.video.videoHeight}},{key:"seek",value:function(e){try{this.video.currentTime=e}catch(t){}}},{key:"forward",value:function(e){this.seek(this.video.currentTime+e)}},{key:"replay",value:function(e){this.forward(-e)}},{key:"toggleFullscreen",value:function(){var e=this.props,t=e.player,n=e.actions;n.toggleFullscreen(t)}},{key:"handleLoadStart",value:function(){var e=this.props,t=e.player,n=e.actions;t.paused&&t.hasStarted&&n.handleLoadStart(this.video.buffered)}},{key:"handleCanPlay",value:function(){this.props.actions.handleCanPlay({videoWidth:this.videoWidth(),videoHeight:this.videoHeight()})}},{key:"handleCanPlayThrough",value:function(){var e=this.props,t=e.player,n=e.actions;t.waiting&&n.handleCanPlayThrough()}},{key:"handlePlaying",value:function(){var e=this.props,t=e.player,n=e.actions;t.waiting&&n.handlePlaying()}},{key:"handlePlay",value:function(){var e=this.props,t=e.player,n=e.actions;t.paused&&n.handlePlay()}},{key:"handlePause",value:function(){var e=this.props,t=e.player,n=e.actions;t.paused||n.handlePause()}},{key:"handleFirstPlay",value:function(){var e=this.props,t=e.player,n=e.starttime,a=e.actions;n&&this.seek(n),t.hasStarted||a.handleFirstPlay()}},{key:"handleDurationChange",value:function(){var e=this.props,t=e.player,n=e.actions;t.duration!==this.video.duration&&n.handleDurationChange(this.video.duration)}},{key:"handleProgress",value:function(){var e=this.props.actions;e.handleProgressChange(this.video.buffered)}},{key:"handleEnded",value:function(){var e=this.props,t=e.loop,n=e.player,a=e.actions;t?(this.seek(0),this.play()):n.paused||this.pause(),n.ended||a.handleEnd()}},{key:"handleWaiting",value:function(){var e=this.props,t=e.player,n=e.actions;t.waiting||n.handleWaiting()}},{key:"handleSeeking",value:function(){var e=this.props,t=e.player,n=e.actions;t.seeking||n.handleSeeking()}},{key:"handleSeeked",value:function(){var e=this.props,t=e.player,n=e.actions;t.seeking&&n.handleSeeked()}},{key:"handleFullscreenChange",value:function(){}},{key:"handleSuspend",value:function(){}},{key:"handleAbort",value:function(){}},{key:"handleEmptied",value:function(){}},{key:"handleStalled",value:function(){}},{key:"handleLoadedMetaData",value:function(){}},{key:"handleLoadedData",value:function(){}},{key:"handleTimeUpdate",value:function(){var e=this.props,t=e.player,n=e.actions;t.currentTime!==this.video.currentTime&&n.handleTimeUpdate(this.video.currentTime)}},{key:"handleRateChange",value:function(){var e=this.props,t=e.player,n=e.actions;t.playbackRate!==this.video.playbackRate&&n.handleRateChange(this.video.playbackRate)}},{key:"handleVolumeChange",value:function(){var e=this.props,t=e.player,n=e.actions;t.volume!==this.video.volume&&n.handleVolumeChange(this.video.volume)}},{key:"handleError",value:function(){}},{key:"handleKeypress",value:function(){}},{key:"renderSources",value:function(){var e=this.props.source;return u["default"].createElement("source",{src:e})}},{key:"render",value:function(){var e=this;return u["default"].createElement("video",{className:"video-react-video",ref:function(t){e.video=t},controls:!0,style:{width:"100%",height:"100%"},onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange},this.renderSources())}},{key:"playbackRate",set:function(e){this.video.playbackRate=e},get:function(){return this.video.playbackRate}},{key:"muted",set:function(e){this.video.muted=e}},{key:"volume",set:function(e){this.video.volume=e}}]),t}(s.Component);t["default"]=p,p.propTypes=c},function(t,n){t.exports=e},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){n(this,e),this.setState=t}return a(e,[{key:"setVideo",value:function(e){this.video=e}},{key:"setPlayerElement",value:function(e){this.playerElement=e}},{key:"play",value:function(){this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"toggleFullscreen",value:function(e){this.setState({isFullscreen:!e.isFullscreen})}},{key:"handleFullscreenChange",value:function(e){this.setState({isFullscreen:e})}},{key:"handleLoadStart",value:function(e){this.setState({hasStarted:!1,ended:!1,buffered:e})}},{key:"handleCanPlay",value:function(e){var t=e.videoWidth,n=e.videoHeight;this.setState({waiting:!1,videoWidth:t,videoHeight:n})}},{key:"handleWaiting",value:function(){this.setState({waiting:!0})}},{key:"handleCanPlayThrough",value:function(){this.setState({waiting:!1})}},{key:"handlePlaying",value:function(){this.setState({waiting:!1})}},{key:"handlePlay",value:function(){this.setState({ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0})}},{key:"handlePause",value:function(){this.setState({paused:!0})}},{key:"handleEnd",value:function(){this.setState({ended:!0})}},{key:"handleSeeking",value:function(){this.setState({seeking:!0})}},{key:"handleSeeked",value:function(){this.setState({seeking:!1})}},{key:"handleSeekingTime",value:function(e){this.setState({seekingTime:e})}},{key:"handleEndSeeking",value:function(e){this.setState({seekingTime:0,currentTime:e})}},{key:"handleDurationChange",value:function(e){this.setState({duration:e})}},{key:"handleTimeUpdate",value:function(e){this.setState({currentTime:e})}},{key:"handleVolumeChange",value:function(e){this.setState({volume:e})}},{key:"handleProgressChange",value:function(e){this.setState({buffered:e})}},{key:"handleRateChange",value:function(e){this.setState({playbackRate:e})}},{key:"handleMute",value:function(e){this.setState({muted:e})}}]),e}();t["default"]=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),d=a(u),h=n(6),c=a(h),p=n(3),f=a(p),y=n(1),v=a(y),g={width:u.PropTypes.number,height:u.PropTypes.number,fluid:u.PropTypes.bool,aspectRatio:u.PropTypes.string},b={fluid:!1,width:400,height:300},k=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.controlsHideTimer=null,n.state={userActivity:!0,player:{duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!0,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,isFullscreen:!1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,error:null}},n.actions=new f["default"](n.setPlayerState.bind(n)),n.renderStyle=n.renderStyle.bind(n),n.handleResize=n.handleResize.bind(n),n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e,t){this.state.player.isFullscreen!==t.player.isFullscreen&&this.handleResize()}},{key:"componentWillUnmount",value:function(){window.addEventListener("resize",this.handleResize),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)}},{key:"setPlayerState",value:function(e){this.setState({player:Object.assign({},this.state.player,e)})}},{key:"handleResize",value:function(){}},{key:"userActive",value:function(e){this.setState({userActivity:e})}},{key:"renderStyle",value:function(){var e=this.props.fluid,t=this.state.player,n={},a=void 0,i=void 0,o=void 0;o=void 0!==this.props.aspectRatio&&"auto"!==this.props.aspectRatio?this.props.aspectRatio:t.videoWidth?t.videoWidth+":"+t.videoHeight:"4:3";var r=o.split(":"),l=r[1]/r[0];return a=void 0!==this.props.width?this.props.width:void 0!==this.props.height?this.props.height/l:t.videoWidth||400,i=void 0!==this.props.height?this.props.height:a*l,e?n.paddingTop=100*l+"%":(n.width=a+"px",n.height=i+"px"),n}},{key:"render",value:function(){var e=this,t=this.props.fluid,n=this.state.player,a=n.paused,i=n.hasStarted,o=n.waiting,r=n.seeking,s=n.isFullscreen,u=l({},this.props,{player:this.state.player,actions:this.actions});return d["default"].createElement("div",{className:(0,c["default"])({"video-react-controls-enabled":!0,"video-react-has-started":i,"video-react-paused":a,"video-react-playing":!a,"video-react-waiting":o,"video-react-seeking":r,"video-react-fluid":t,"video-react-fullscreen":s,"video-react-user-inactive":!this.state.userActivity,"video-react-user-active":this.state.userActivity},"video-react"),style:this.renderStyle(),ref:function(t){e.actions.setPlayerElement(t)},onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove},d["default"].createElement(v["default"],l({ref:function(t){e.video=t,e.actions.setVideo(t)}},u)))}}]),t}(u.Component);t["default"]=k,k.propTypes=g,k.defaultProps=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Video=t.Player=void 0;var i=n(4),o=a(i),r=n(1),l=a(r);t.Player=o["default"],t.Video=l["default"]},function(e,t,n){var a,i;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a))e.push(n.apply(null,a));else if("object"===i)for(var r in a)o.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(a=[],i=function(){return n}.apply(t,a),!(void 0!==i&&(e.exports=i)))}()},function(e,t){(function(t){function n(e,t,n){function a(t){var n=y,a=v;return y=v=void 0,T=t,b=e.apply(a,n)}function o(e){return T=e,k=setTimeout(d,t),C?a(e):b}function r(e){var n=e-m,a=e-T,i=t-n;return j?P(i,g-a):i}function u(e){var n=e-m,a=e-T;return void 0===m||n>=t||n<0||j&&a>=g}function d(){var e=w();return u(e)?h(e):void(k=setTimeout(d,r(e)))}function h(e){return k=void 0,E&&y?a(e):(y=v=void 0,b)}function c(){void 0!==k&&clearTimeout(k),T=0,y=m=v=k=void 0}function p(){return void 0===k?b:h(w())}function f(){var e=w(),n=u(e);if(y=arguments,v=this,m=e,n){if(void 0===k)return o(m);if(j)return k=setTimeout(d,t),a(m)}return void 0===k&&(k=setTimeout(d,t)),b}var y,v,g,b,k,m,T=0,C=!1,j=!1,E=!0;if("function"!=typeof e)throw new TypeError(s);return t=l(t)||0,i(n)&&(C=!!n.leading,j="maxWait"in n,g=j?S(l(n.maxWait)||0,t):g,E="trailing"in n?!!n.trailing:E),f.cancel=c,f.flush=p,f}function a(e,t,a){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(s);return i(a)&&(o="leading"in a?!!a.leading:o,r="trailing"in a?!!a.trailing:r),n(e,t,{leading:o,maxWait:t,trailing:r})}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==typeof e}function r(e){return"symbol"==typeof e||o(e)&&m.call(e)==d}function l(e){if("number"==typeof e)return e;if(r(e))return u;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=p.test(e);return n||f.test(e)?y(e.slice(2),n?2:8):c.test(e)?u:+e}var s="Expected a function",u=NaN,d="[object Symbol]",h=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,f=/^0o[0-7]+$/i,y=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,b=v||g||Function("return this")(),k=Object.prototype,m=k.toString,S=Math.max,P=Math.min,w=function(){return b.Date.now()};e.exports=a}).call(t,function(){return this}())}])});
//# sourceMappingURL=video-react.min.js.map